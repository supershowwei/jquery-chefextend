function findKeyElement(t,e){return t.find("[c-model='"+e+"'],[c-model-number='"+e+"']")}function getContents(t){if(t)return t.constructor===Function?t():t}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substring(!e||e<0?0:+e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),function(f){f.expr[":"].attrStartsWith=f.expr.createPseudo(function(i){return function(t,e,r){for(var n=t.attributes.length-1;0<=n;n--)if(t.attributes[n].name.startsWith(i))return!0;return!1}}),f.expr[":"].attrEndsWith=f.expr.createPseudo(function(i){return function(t,e,r){for(var n=t.attributes.length-1;0<=n;n--)if(t.attributes[n].name.endsWith(i))return!0;return!1}}),f.extend({jqModel:{toNumber:function(t){return isNaN(t)?void 0:Number(t)}}}),f.fn.extend({getModelValue:function(){return this.is(":radio")?f("input[type='radio'][name='"+this.attr("name")+"']:checked").val():this.is(":checkbox")?this.attr("value")?this.prop("checked")?this.val():void 0:this.prop("checked"):this.val()},setModelValue:function(t){this.is(":radio")?f("input[type='radio'][name='"+this.attr("name")+"'][value='"+t+"']").prop("checked",!0):this.is(":checkbox")?this.attr("value")?this.prop("checked",this.val()===t):this.prop("checked",t):this.val(t)},model:function(l,t,e){var r=this.find(":attrStartsWith('c-model')").addBack(":attrStartsWith('c-model')");if(0!==r.length){if(!l){var o={};return f.each(r,function(t,e){var r=f(e);if(r.is(":input"))for(var n=e.attributes.length-1;0<=n;n--){var i=e.attributes[n];if(i.name.startsWith("c-model")){if(!o[i.value]){var a=r.getModelValue();a&&("c-model-number"===i.name?o[i.value]=f.jqModel.toNumber(a):o[i.value]=a)}break}}}),o}if(l.constructor===String){var n={};n[l]=t,l=n}else l.constructor===Object&&(e=t);var i=void 0;return e&&e.constructor===Object&&(i=e.beforeSet,e=e.afterSet),i&&i.constructor===Function&&i(this,l),f.each(r,function(t,e){for(var r=e.attributes.length-1;0<=r;r--){var n=e.attributes[r];if(n.name.startsWith("c-model")){var i=f(e);if("c-model-multi"===n.name){var a=/([^:,]+):([^:,]+)/g,o=void 0;do{if(o=a.exec(n.value)){var s=o[1],u=o[2];if(c=getContents(l[u]))switch(s){case"text":i.text(c);break;case"href":case"src":case"title":case"alt":i.attr(s,c)}}}while(o);break}if("c-model-html"===n.name){var c;(c=getContents(l[u]))&&i.html(getContents(l[n.value]));break}l[n.value]&&(i.is(":input")?i.setModelValue(l[n.value]):i.text(getContents(l[n.value])));break}}}),e&&e.constructor===Function&&e(this,l),this}},models:function(t,r,a){var o=this;if(0!==o.length){if(!t){var n=[];return f.each(o,function(t,e){n.push(f(e).model())}),n}if(t.constructor===Object)for(var e=t[s=r].toString(),i=0;i<o.length;i++){if(findKeyElement(h=f(o[i]),s).getModelValue()===e){h.model(t,a);break}}else if(t.constructor===Array){if(r.constructor===String){var s=r;f.each(t,function(t,e){for(var r=e[s].toString(),n=0;n<o.length;n++){var i=f(o[n]);if(findKeyElement(i,s).getModelValue()===r){i.model(e,a);break}}n<o.length&&o.splice(n,1)})}else if(r instanceof jQuery){var u=f(o);f.each(t,function(t,e){r.clone().model(e,a).appendTo(u)})}}else{var c=t,l=r.toString();for(i=0;i<o.length;i++){var h;if(findKeyElement(h=f(o[i]),c).getModelValue()===l)return h.model()}}return this}}})}(jQuery);