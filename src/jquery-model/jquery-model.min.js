function findKeyElement(t,e){return t.find("[c-model='"+e+"'],[c-model-number='"+e+"']")}function resolveModelValue(t,e){if(null!=e){if(/[^\.]\.[^\.]/.test(t)){var r=t.indexOf(".");return resolveModelValue(t.substr(r+1),e[t.substr(0,r)])}return e[t]}}function buildModelValue(t,e,r){if(/[^\.]\.[^\.]/.test(t)){var n=t.indexOf("."),i=t.substr(0,n);void 0!==r[i]&&null!==r[i]||(r[i]={}),buildModelValue(t.substr(n+1),e,r[i])}else r[t]=e}function getContents(t){if(null!=t)return t.constructor===Function?t():t}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substring(!e||e<0?0:+e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),function(h){h.expr[":"].attrStartsWith=h.expr.createPseudo(function(i){return function(t,e,r){for(var n=t.attributes.length-1;0<=n;n--)if(t.attributes[n].name.startsWith(i))return!0;return!1}}),h.expr[":"].attrEndsWith=h.expr.createPseudo(function(i){return function(t,e,r){for(var n=t.attributes.length-1;0<=n;n--)if(t.attributes[n].name.endsWith(i))return!0;return!1}}),h.extend({jqModel:{toNumber:function(t){return isNaN(t)?void 0:Number(t)}}}),h.fn.extend({getModelValue:function(){return this.is(":radio")?h("input[type='radio'][name='"+this.attr("name")+"']:checked").val():this.is(":checkbox")?this.attr("value")?this.prop("checked")?this.val():void 0:this.prop("checked"):this.val()},setModelValue:function(t){this.is(":radio")?h("input[type='radio'][name='"+this.attr("name")+"'][value='"+t+"']").prop("checked",!0):this.is(":checkbox")?this.attr("value")?this.prop("checked",this.val()===t):this.prop("checked",t):this.val(t)},model:function(c,t,e){var r=this.find(":attrStartsWith('c-model')").addBack(":attrStartsWith('c-model')");if(0!==r.length){if(!c){var a={};return h.each(r,function(t,e){var r=h(e);if(r.is(":input"))for(var n=e.attributes.length-1;0<=n;n--){var i=e.attributes[n];if(i.name.startsWith("c-model")){if(void 0===a[i.value]){var o=r.getModelValue();void 0!==o&&("c-model-number"===i.name?buildModelValue(i.value,h.jqModel.toNumber(o),a):buildModelValue(i.value,o,a))}break}}}),a}if(c.constructor===String){var n={};n[c]=t,c=n}else c.constructor===Object&&(e=t);var i=void 0;return e&&e.constructor===Object&&(i=e.beforeSet,e=e.afterSet),i&&i.constructor===Function&&i(this,c),h.each(r,function(t,e){for(var r=e.attributes.length-1;0<=r;r--){var n=e.attributes[r];if(n.name.startsWith("c-model")){var i=h(e);if("c-model-dazzle"===n.name){var o=/([^:,]+):([^:,]+)/g,a=void 0;do{if(a=o.exec(n.value)){var l=a[1];if(void 0!==(s=getContents(resolveModelValue(a[2],c))))switch(l){case"text":i.text(s);break;default:i.attr(l,s)}}}while(a);break}if("c-model-html"===n.name){void 0!==(s=getContents(resolveModelValue(n.value,c)))&&i.html(s);break}if(i.is(":input")){var u=resolveModelValue(n.value,c);null!=u&&i.setModelValue(u)}else{var s;void 0!==(s=getContents(resolveModelValue(n.value,c)))&&i.text(s)}break}}}),e&&e.constructor===Function&&e(this,c),this}},models:function(t,r,o){var a=this;if(0!==a.length){if(!t){var n=[];return h.each(a,function(t,e){n.push(h(e).model())}),n}if(t.constructor===Object)for(var e=t[l=r].toString(),i=0;i<a.length;i++){if(findKeyElement(d=h(a[i]),l).getModelValue()===e){d.model(t,o);break}}else if(t.constructor===Array){if(r.constructor===String){var l=r;h.each(t,function(t,e){for(var r=e[l].toString(),n=0;n<a.length;n++){var i=h(a[n]);if(findKeyElement(i,l).getModelValue()===r){i.model(e,o);break}}n<a.length&&a.splice(n,1)})}else if(r instanceof jQuery){var u=h(a);h.each(t,function(t,e){r.clone().model(e,o).appendTo(u)})}}else{var s=t,c=r.toString();for(i=0;i<a.length;i++){var d;if(findKeyElement(d=h(a[i]),s).getModelValue()===c)return d.model()}}return this}}})}(jQuery);