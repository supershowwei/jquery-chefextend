!function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substring(!t||t<0?0:+t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),Array.prototype.contains||(Array.prototype.contains=function(e,t){var r=this,n=r.length;let i=-1;if(void 0===t){for(;++i!==n;)if(i in r&&e(r[i],i,r))return!0}else for(;++i!==n;)if(i in r&&e.call(t,r[i],i,r))return!0;return!1});{var m=jQuery;function p(e,t){return t="[c-model='"+t+"'],[c-model-number='"+t+"'],[c-model-dazzle*='value:"+t+"'],[c-model-dazzle*='value-number:"+t+"']",e.find(t).addBack(t)}function o(e){var t,r;do{(t=n.exec(e.name))&&((r=y(t[0]))&&e.filters.push(r),e.name=e.name.replace(t[0],""))}while(t)}function a(e){e.filters.length&&(e.value=e.filters.reduce((e,t)=>{if("function"==typeof t.method)return t.method.call(null,e,...t.arguments);if(t.method.startsWith(".")){if(null==e)return e;var r=t.method.substring(1);if(e[r])return e[r].apply(e,t.arguments)}return e},e.value))}function d(e,t){if(null!=t){var r=c.exec(e);if(r){var n;let e=r[1];do{if(n=h.exec(e)){const i={name:n[1],filters:[]};if(o(i),i.value=d(i.name,t),a(i),null==i.value)return;e=e.replace(new RegExp(n[0].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i.value)}}while(n);return e}if(u.test(e))return r=e.indexOf("."),d(e.substr(r+1),t[e.substr(0,r)]);const i={name:e,filters:[]};return o(i),i.value="__THIS__"===i.name?t:t[i.name],a(i),i.value}}function l(e,t,r){var n,i;u.test(e)?(n=e.indexOf("."),null==r[i=e.substr(0,n)]&&(r[i]={}),l(e.substr(n+1),t,r[i])):r[e]=t}function f(e){if(null!=e)return e.constructor===Function?e():e}const s=/^[^\|]+/,u=/[^\.\|]+\.[^\.\|]+/,c=/`([^`]+)`/,h=/\{([^\{\}]+)\}/,n=/\|[^\|]+/,v=/,(value|value-number):([^:,]+)/,g=/^(value|value-number):([^:,]+)/,b=/([^:,]+):(`[^`]+`|[^:,]+)/g,e=/\|([^\s]+)$/,i=/\|([^\s]+) \? (.+)$/,x=/^'([^']+)'$/,k=new Map,y=function(t){if(k.has(t))return k.get(t);var r,n=void 0;if(n=e.exec(t)){let e=n[1];return e.includes("(")||e.includes(")")?void 0:e.startsWith(".")||"function"==typeof(e=new Function(`return window.${e};`)())?(r={method:e,arguments:[]},k.set(t,r),r):void 0}if(n=i.exec(t)){let e=n[1];return e.includes("(")||e.includes(")")?void 0:e.startsWith(".")||"function"==typeof(e=new Function(`return window.${e};`)())?(r=n[2].split(" & ").reduce((e,t)=>{var r;return(r=x.exec(t))?e.push(r[1]):e.push(Number(t)),e},[]),n={method:e,arguments:r},k.set(t,n),n):void 0}};m.expr[":"].attrStartsWith=m.expr.createPseudo(function(n){return function(t,e,r){for(let e=t.attributes.length-1;0<=e;e--)if(t.attributes[e].name.startsWith(n))return!0;return!1}}),m.expr[":"].attrEndsWith=m.expr.createPseudo(function(n){return function(t,e,r){for(let e=t.attributes.length-1;0<=e;e--)if(t.attributes[e].name.endsWith(n))return!0;return!1}}),m.extend({jqModel:{toNumber:function(e){if(e&&""!==(e=e.replace(/,/g,""))&&!(e.trim().length<1||isNaN(e)))return Number(e)}}}),m.fn.extend({getModelValue:function(){return this.is(":radio")?m("input[type='radio'][name='"+this.attr("name")+"']:checked").val():this.is(":checkbox")?this.attr("value")?this.prop("checked")?this.val():void 0:this.prop("checked"):this.is("[contenteditable]")?this.text():this.val()},setModelValue:function(e){this.is(":radio")?m("input[type='radio'][name='"+this.attr("name")+"']").prop("checked",!1).filter("[value='"+e+"']").prop("checked",!0):this.is(":checkbox")?this.attr("value")?this.prop("checked",this.val()===e.toString()):this.prop("checked",e):this.val(e)},model:function(c,t,r,n){var i,o=this.find(":attrStartsWith('c-model')").addBack(":attrStartsWith('c-model')");if(!c){if(0===o.length)return;const u={};return m.each(o,function(e,t){var r=m(t);if(r.is(":input")||r.is("[contenteditable]"))for(let e=t.attributes.length-1;0<=e;e--){var n=t.attributes[e];if(n.name.startsWith("c-model")){if("c-model-dazzle"===n.name){var i,o,a=v.exec(n.value)||g.exec(n.value);a&&(i=a[1],a=a[2],void 0===d(a,u))&&void 0!==(o=r.getModelValue())&&("value-number"===i?l(a,m.jqModel.toNumber(o),u):l(a,o,u));break}void 0===d(n.value,u)&&(i=r.getModelValue(),a=s.exec(n.value)[0],void 0!==i)&&("c-model-number"===n.name?l(a,m.jqModel.toNumber(i),u):l(a,i,u));break}}}),u}{c.constructor===String?((i={})[c]=t,c=i):c.constructor===Object&&(r=t);let e=void 0;r&&r.constructor===Object&&(e=r.beforeSet,r=r.afterSet),e&&e.constructor===Function&&e(this,c,n),m.each(o,function(e,t){for(let e=t.attributes.length-1;0<=e;e--){var r=t.attributes[e];if(r.name.startsWith("c-model")){var n,i=m(t);if("c-model-dazzle"===r.name){var o;do{if(o=b.exec(r.value)){var a=o[1],u=o[2],l=d(u,c);if(void 0!==l)switch(a){case"text":i.text(f(l));break;case"html":i.html(f(l));break;case"value":case"value-number":i.is(":input")?i.setModelValue(l):i.attr("value",l);break;default:i.attr(a,f(l))}}}while(o);break}if("c-model-html"===r.name){var s=f(d(r.value,c));void 0!==s&&i.html(s);break}i.is(":input")?void 0!==(s=d(r.value,c))&&i.setModelValue(s):void 0!==(n=f(d(r.value,c)))&&i.text(n);break}}}),r&&r.constructor===Function&&r(this,c,n)}return this},models:function(t,r,o){const a=this;if(0!==a.length){if(!t){const d=[];return m.each(a,function(e,t){d.push(m(t).model())}),d}if(t.constructor===Object){var n=r,i=t[n].toString();for(let e=0;e<a.length;e++){var u=m(a[e]);if(p(u,n).getModelValue()===i){u.model(t,o);break}}}else if(t.constructor===Array){if(r.constructor===String){const f=r;m.each(t,function(e,t){var r=t[f].toString();let n=0;for(;n<a.length;n++){var i=m(a[n]);if(p(i,f).getModelValue()===r){i.model(t,o,void 0,e);break}}n<a.length&&a.splice(n,1)})}else if(r instanceof jQuery){const h=m(a);m.each(t,function(e,t){r.clone().model(t,o,void 0,e).appendTo(h)})}else if(r.constructor===Function){const v=m(a);m.each(t,function(e,t){r(t,e).clone().model(t,o,void 0,e).appendTo(v)})}}else{var l=t,s=r.toString();for(let e=0;e<a.length;e++){var c=m(a[e]);if(p(c,l).getModelValue()===s)return c.model()}}return this}}})}}();