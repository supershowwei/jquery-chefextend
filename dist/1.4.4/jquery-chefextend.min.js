function findKeyElement(e,t){return e.find("[c-model='"+t+"'],[c-model-number='"+t+"'],[c-model-dazzle*='value:"+t+"'],[c-model-dazzle*='value-number:"+t+"']").addBack("[c-model='"+t+"'],[c-model-number='"+t+"'],[c-model-dazzle*='value:"+t+"'],[c-model-dazzle*='value-number:"+t+"']")}function resolveModelValue(e,t){if(null!=t){if(/[^\.]\.[^\.]/.test(e)){var r=e.indexOf(".");return resolveModelValue(e.substr(r+1),t[e.substr(0,r)])}return t[e]}}function buildModelValue(e,t,r){if(/[^\.]\.[^\.]/.test(e)){var n=e.indexOf("."),o=e.substr(0,n);void 0!==r[o]&&null!==r[o]||(r[o]={}),buildModelValue(e.substr(n+1),t,r[o])}else r[e]=t}function getContents(e){if(null!=e)return e.constructor===Function?e():e}!function(r){r.extend({http:{beforeSend:function(e){return e&&e(),this},get:function(e){return r.ajax(e,{method:"GET"})},post:function(e,t){return r.ajax(e,{method:"POST",data:t})},postForm:function(e,t){return r.ajax(e,{method:"POST",data:t,cache:!1,contentType:!1,processData:!1})},put:function(e,t){return r.ajax(e,{method:"PUT",data:t})},patch:function(e,t){return r.ajax(e,{method:"PATCH",data:t})},delete:function(e){return r.ajax(e,{method:"DELETE"})}}})}(jQuery),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substring(!t||t<0?0:+t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),Array.prototype.contains||(Array.prototype.contains=function(e,t){var r=this,n=r.length,o=-1;if(void 0===t){for(;++o!==n;)if(o in r&&e(r[o],o,r))return!0}else for(;++o!==n;)if(o in r&&e.call(t,r[o],o,r))return!0;return!1}),function(f){f.expr[":"].attrStartsWith=f.expr.createPseudo(function(o){return function(e,t,r){for(var n=e.attributes.length-1;0<=n;n--)if(e.attributes[n].name.startsWith(o))return!0;return!1}}),f.expr[":"].attrEndsWith=f.expr.createPseudo(function(o){return function(e,t,r){for(var n=e.attributes.length-1;0<=n;n--)if(e.attributes[n].name.endsWith(o))return!0;return!1}}),f.extend({jqModel:{toNumber:function(e){return isNaN(e)?void 0:Number(e)}}}),f.fn.extend({getModelValue:function(){return this.is(":radio")?f("input[type='radio'][name='"+this.attr("name")+"']:checked").val():this.is(":checkbox")?this.attr("value")?this.prop("checked")?this.val():void 0:this.prop("checked"):this.val()},setModelValue:function(e){this.is(":radio")?f("input[type='radio'][name='"+this.attr("name")+"'][value='"+e+"']").prop("checked",!0):this.is(":checkbox")?this.attr("value")?this.prop("checked",this.val()===e.toString()):this.prop("checked",e):this.val(e)},model:function(d,e,t){var r=this.find(":attrStartsWith('c-model')").addBack(":attrStartsWith('c-model')");if(0!==r.length){if(!d){var s={};return f.each(r,function(e,t){var r=f(t);if(r.is(":input"))for(var n=t.attributes.length-1;0<=n;n--){var o=t.attributes[n];if(o.name.startsWith("c-model")){if("c-model-dazzle"===o.name){var a=/(value[^:,]*):([^:,]+)/.exec(o.value);if(a){var i=a[1],u=a[2];if(void 0===resolveModelValue(u,s))void 0!==(l=r.getModelValue())&&buildModelValue(u,"value-number"===i?f.jqModel.toNumber(l):l,s)}break}var l;if(void 0===resolveModelValue(o.value,s))void 0!==(l=r.getModelValue())&&("c-model-number"===o.name?buildModelValue(o.value,f.jqModel.toNumber(l),s):buildModelValue(o.value,l,s));break}}}),s}if(d.constructor===String){var n={};n[d]=e,d=n}else d.constructor===Object&&(t=e);var o=void 0;return t&&t.constructor===Object&&(o=t.beforeSet,t=t.afterSet),o&&o.constructor===Function&&o(this,d),f.each(r,function(e,t){for(var r=t.attributes.length-1;0<=r;r--){var n=t.attributes[r];if(n.name.startsWith("c-model")){var o=f(t);if("c-model-dazzle"===n.name){var a=/([^:,]+):([^:,]+)/g,i=void 0;do{if(i=a.exec(n.value)){var u,l=i[1];if(void 0!==(u=resolveModelValue(i[2],d)))switch(l){case"text":o.text(getContents(u));break;case"html":o.html(getContents(u));break;case"value":case"value-number":o.is(":input")&&o.setModelValue(u);break;default:o.attr(l,getContents(u))}}}while(i);break}if("c-model-html"===n.name){var s;void 0!==(s=getContents(resolveModelValue(n.value,d)))&&o.html(s);break}if(o.is(":input"))void 0!==(u=resolveModelValue(n.value,d))&&o.setModelValue(u);else void 0!==(s=getContents(resolveModelValue(n.value,d)))&&o.text(s);break}}}),t&&t.constructor===Function&&t(this,d),this}},models:function(e,r,a){var i=this;if(0!==i.length){if(!e){var n=[];return f.each(i,function(e,t){n.push(f(t).model())}),n}if(e.constructor===Object)for(var t=e[u=r].toString(),o=0;o<i.length;o++){if(findKeyElement(c=f(i[o]),u).getModelValue()===t){c.model(e,a);break}}else if(e.constructor===Array){if(r.constructor===String){var u=r;f.each(e,function(e,t){for(var r=t[u].toString(),n=0;n<i.length;n++){var o=f(i[n]);if(findKeyElement(o,u).getModelValue()===r){o.model(t,a);break}}n<i.length&&i.splice(n,1)})}else if(r instanceof jQuery){var l=f(i);f.each(e,function(e,t){r.clone().model(t,a).appendTo(l)})}}else{var s=e,d=r.toString();for(o=0;o<i.length;o++){var c;if(findKeyElement(c=f(i[o]),s).getModelValue()===d)return c.model()}}return this}}})}(jQuery);